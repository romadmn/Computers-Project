version: '3.4'

services:
  ms-sql-server: 
    image: "mcr.microsoft.com/mssql/server:2019-latest"
    environment:
        ACCEPT_EULA: "Y"
        SA_PASSWORD: "MyPassword111"
        MSSQL_PID: Express 
    ports:
      - "1433:1433"
  computersapp:
    image: ${DOCKER_REGISTRY-}aspnetcoreapp
    build:
      context: .
      dockerfile: ComputersApp.Api/Dockerfile
      args:
        - skip_client_build=false

  computers.angular.app:
    image: ${DOCKER_REGISTRY-}angularapp
    build:
      context: .
      dockerfile: ComputersApp.Api/ClientApp/Dockerfile
    ports:
      - "4200:4200" 
    volumes:
      - ./ComputersApp.Api/ClientApp:/app